(this["webpackJsonpsmart-iot-management-system"]=this["webpackJsonpsmart-iot-management-system"]||[]).push([[16],{342:function(e,t,r){"use strict";r.d(t,"n",(function(){return o})),r.d(t,"m",(function(){return i})),r.d(t,"g",(function(){return u})),r.d(t,"a",(function(){return d})),r.d(t,"l",(function(){return l})),r.d(t,"q",(function(){return b})),r.d(t,"d",(function(){return j})),r.d(t,"i",(function(){return m})),r.d(t,"t",(function(){return p})),r.d(t,"r",(function(){return h})),r.d(t,"j",(function(){return f})),r.d(t,"o",(function(){return O})),r.d(t,"s",(function(){return x})),r.d(t,"k",(function(){return g})),r.d(t,"e",(function(){return y})),r.d(t,"p",(function(){return w})),r.d(t,"c",(function(){return v})),r.d(t,"b",(function(){return P})),r.d(t,"f",(function(){return A})),r.d(t,"h",(function(){return N}));var n=r(11),a=r(20),s=r(109),c=r(61),o=function(){return s.a.get("/admin/count",{headers:{Authorization:"Bearer ".concat(Object(c.b)())}})},i=function(){return s.a.get("/admin//all-users",{headers:{Authorization:"Bearer ".concat(Object(c.b)())}})},u=function(e){return s.a.patch("/admin/delete-user",{id:e},{headers:{Authorization:"Bearer ".concat(Object(c.b)())}})},d=function(e){return s.a.patch("/macAddress/add",{macAddress:e},{headers:{Authorization:"Bearer ".concat(Object(c.b)())}})},l=function(){return s.a.get("/macAddress/all",{headers:{Authorization:"Bearer ".concat(Object(c.b)())}})},b=function(e,t){return s.a.patch("/macAddress/remove",{macAddress:e,userId:t},{headers:{Authorization:"Bearer ".concat(Object(c.b)())}})},j=function(){return s.a.get("/count/",{headers:{Authorization:"Bearer ".concat(Object(c.b)())}})},m=function(e){return s.a.post("/auth/forgot",{email:e})},p=function(e,t){return s.a.post("/auth/verify",{email:e,code:t})},h=function(e,t){return s.a.post("/auth/reset",{email:e,password:t})},f=function(){return s.a.get("/admin/all-macAddress",{headers:{Authorization:"Bearer ".concat(Object(c.b)())}})},O=function(e){return s.a.post("/mqtt/data",e)},x=function(e){return s.a.post("/mqtt/file/upload",e,{headers:{"x-access-token":Object(c.b)()}})},g=function(e){return s.a.post("/mqtt/files",e,{headers:{"x-access-token":Object(c.b)()}})},y=function(){var e=Object(a.a)(Object(n.a)().mark((function e(t){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.delete("/mqtt/file/delete/".concat(t),{headers:{Authorization:"Bearer ".concat(Object(c.b)())}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(e){return s.a.post("/mqtt/publish",e,{headers:{"x-access-token":Object(c.b)()}})},v=function(e){return s.a.post("/program/all",{macAddress:e},{headers:{Authorization:"Bearer ".concat(Object(c.b)())}})},P=function(e){return s.a.post("/program/post",e,{headers:{Authorization:"Bearer ".concat(Object(c.b)())}})},A=function(e){return s.a.patch("/program/delete",{id:e},{headers:{Authorization:"Bearer ".concat(Object(c.b)())}})},N=function(e,t){return s.a.patch("/program/edit",{id:t,programName:e.programName,command:e.command},{headers:{Authorization:"Bearer ".concat(Object(c.b)())}})}},388:function(e,t,r){"use strict";r.r(t);var n=r(11),a=r(20),s=r(4),c=r(0),o=r(10),i=r(37),u=r(368),d=r(335),l=r(104),b=r(333),j=r(334),m=r(369),p=r(382),h=r(106),f=r(363),O=r(112),x=r(39),g=r(113),y=r(342),w=r(3),v=u.a.Title,P=d.a.Header,A=d.a.Footer,N=d.a.Content;t.default=function(){var e=Object(x.b)(),t=Object(o.n)(),r=Object(c.useRef)(null),u=Object(c.useState)(!1),k=Object(s.a)(u,2),S=k[0],I=k[1],z=Object(c.useState)(!1),B=Object(s.a)(z,2),C=B[0],E=B[1],F=Object(c.useState)(!1),T=Object(s.a)(F,2),q=T[0],L=T[1],D=Object(c.useState)(!1),J=Object(s.a)(D,2),M=J[0],G=J[1],H=Object(c.useState)(!1),R=Object(s.a)(H,2),U=R[0],V=R[1],K=Object(c.useState)(!1),Q=Object(s.a)(K,2),W=Q[0],X=Q[1],Y=Object(c.useState)(!1),Z=Object(s.a)(Y,2),$=Z[0],_=Z[1],ee=function(){var s=Object(a.a)(Object(n.a)().mark((function a(s){var c;return Object(n.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return I(!0),r.current.blur(),n.next=4,e(Object(g.b)(s));case 4:c=n.sent,I(!1),c||t("/");case 7:case"end":return n.stop()}}),a)})));return function(e){return s.apply(this,arguments)}}();if(Object(c.useEffect)((function(){return _(!0),function(){return _(!1)}}),[]),!$)return null;var te=function(){var e=Object(a.a)(Object(n.a)().mark((function e(t){var r,a;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.password,E(!0),e.prev=2,e.next=5,Object(y.r)(W,r);case 5:200===(a=e.sent).status&&(l.a.success({message:"Success",description:a.data.message}),V(!1),E(!1)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),E(!1),l.a.error({message:"Error",description:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=Object(a.a)(Object(n.a)().mark((function e(t){var r,a;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.email,X(r),E(!0),e.prev=3,e.next=6,Object(y.i)(r);case 6:200===(a=e.sent).status&&(l.a.success({message:"OTP Sent",description:a.data.message}),L(!1),G(!0),E(!1)),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(3),L(!1),E(!1),l.a.error({message:"Error",description:e.t0.response.data.message});case 15:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(a.a)(Object(n.a)().mark((function e(t){var r,a;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.otp,E(!0),e.prev=2,e.next=5,Object(y.t)(W,r);case 5:200===(a=e.sent).status&&(l.a.success({message:"OTP Status",description:a.data.message}),G(!1),V(!0),E(!1)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),E(!1),l.a.error({message:"Error",description:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(d.a,{className:"layout-default layout-signin",children:[Object(w.jsx)(P,{children:Object(w.jsx)("div",{className:"header-col header-brand",children:Object(w.jsx)("h5",{children:" Smart IoT Management System"})})}),Object(w.jsx)(N,{className:"signin",children:Object(w.jsxs)(b.a,{gutter:[24,0],justify:"space-around",children:[Object(w.jsxs)(j.a,{xs:{span:24,offset:0},lg:{span:6,offset:2},md:{span:12},children:[Object(w.jsx)(v,{className:"mb-15",children:"Sign In"}),Object(w.jsx)(v,{className:"font-regular text-muted",level:5,children:"Enter your email and password to sign in"}),Object(w.jsxs)(m.a,{onFinish:ee,onFinishFailed:function(e){console.log("Failed:",e)},layout:"vertical",className:"row-col",children:[Object(w.jsx)(m.a.Item,{className:"username",label:"Email",name:"email",rules:[{required:!0,message:"Please input your email!"}],children:Object(w.jsx)(p.a,{placeholder:"Email"})}),Object(w.jsx)(m.a.Item,{className:"username",label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],children:Object(w.jsx)(p.a.Password,{placeholder:"Password"})}),Object(w.jsx)(m.a.Item,{children:Object(w.jsx)(h.a,{type:"primary",htmlType:"submit",loading:S,ref:r,style:{width:"100%"},children:"SIGN IN"})}),Object(w.jsxs)("p",{className:"font-semibold text-muted",children:["Don't have an account?"," ",Object(w.jsx)(i.c,{to:"/sign-up",className:"text-dark font-bold",children:"Sign Up"}),Object(w.jsx)("br",{}),Object(w.jsx)("div",{onClick:function(){return L(!0)},className:"text-dark font-bold",style:{textDecoration:"underline",cursor:"pointer"},children:"Forgot Password?"})]})]})]}),Object(w.jsx)(j.a,{className:"sign-img",style:{padding:12},xs:{span:24},lg:{span:12},md:{span:12},children:Object(w.jsx)("img",{src:O.a,alt:""})})]})}),Object(w.jsx)(A,{children:Object(w.jsx)("p",{className:"copyright",children:"Copyright \xa9 2022 Smart IoT Management System"})})]}),Object(w.jsx)(f.a,{title:"Enter Email",destroyOnClose:!0,visible:q,footer:null,onCancel:function(){return L(!1)},confirmLoading:C,children:Object(w.jsxs)(m.a,{name:"control-ref",onFinish:re,style:{alignItems:"center"},labelCol:{span:4},children:[Object(w.jsx)(m.a.Item,{name:"email",label:"Email",rules:[{required:!0,message:"Please enter your email address associated with your account!"},{type:"email",message:"Please enter a valid email address"}],children:Object(w.jsx)(p.a,{})}),Object(w.jsx)("br",{}),Object(w.jsx)(m.a.Item,{children:Object(w.jsx)(h.a,{type:"primary",htmlType:"submit",loading:C,children:"Next"})})]})}),Object(w.jsx)(f.a,{title:"Enter OTP",destroyOnClose:!0,open:M,footer:null,onCancel:function(){return G(!1)},confirmLoading:C,children:Object(w.jsxs)(m.a,{name:"control-ref",onFinish:ne,labelCol:{span:4},children:[Object(w.jsx)(m.a.Item,{name:"otp",label:"OTP",rules:[{required:!0,message:"Please enter OTP you  received!"}],children:Object(w.jsx)(p.a,{})}),Object(w.jsx)("br",{}),Object(w.jsx)(m.a.Item,{children:Object(w.jsx)(h.a,{type:"primary",htmlType:"submit",loading:C,children:"Next"})})]})}),Object(w.jsx)(f.a,{title:"Enter New Password",destroyOnClose:!0,open:U,footer:null,onCancel:function(){return V(!1)},confirmLoading:C,children:Object(w.jsxs)(m.a,{name:"control-ref",onFinish:te,labelCol:{span:8},children:[Object(w.jsx)(m.a.Item,{name:"password",label:"Password",rules:[{required:!0,message:"Please input your password!"}],hasFeedback:!0,children:Object(w.jsx)(p.a.Password,{})}),Object(w.jsx)(m.a.Item,{name:"confirm",label:"Confirm Password",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password!"},function(e){var t=e.getFieldValue;return{validator:function(e,r){return r&&t("password")!==r?Promise.reject(new Error("The two passwords that you entered do not match!")):Promise.resolve()}}}],children:Object(w.jsx)(p.a.Password,{})}),Object(w.jsx)("br",{}),Object(w.jsx)(m.a.Item,{children:Object(w.jsx)(h.a,{type:"primary",htmlType:"submit",loading:C,children:"Submit"})})]})})]})}}}]);
//# sourceMappingURL=16.8b15813d.chunk.js.map