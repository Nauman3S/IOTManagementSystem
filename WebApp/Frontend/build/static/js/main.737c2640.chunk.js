(this["webpackJsonpsmart-iot-management-system"]=this["webpackJsonpsmart-iot-management-system"]||[]).push([[4],{109:function(e,t,c){"use strict";var n=c(208),a=c.n(n);t.a=a.a.create({baseURL:"https://smart-iot-management-system-backend.prod.dev-pci.com/api"})},112:function(e,t,c){"use strict";c.d(t,"d",(function(){return j})),c.d(t,"b",(function(){return d})),c.d(t,"a",(function(){return b})),c.d(t,"c",(function(){return u}));var n=c(11),a=c(20),r=c(54),s=c(109),i=c(104),l=c(93),o=c(61),j=function(e){return function(){var t=Object(a.a)(Object(n.a)().mark((function t(c){var a,l;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.a.post("/auth/signup",e);case 3:200===t.sent.status&&i.a.success({message:"Sign Up Successfull"}),c({type:r.d}),t.next=13;break;case 8:return t.prev=8,t.t0=t.catch(0),i.a.error({message:null===t.t0||void 0===t.t0||null===(a=t.t0.response)||void 0===a||null===(l=a.data)||void 0===l?void 0:l.message}),console.log(t.t0),t.abrupt("return",t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},d=function(e){return function(){var t=Object(a.a)(Object(n.a)().mark((function t(c){var a;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.a.post("/auth/login",e);case 3:200===(a=t.sent).status&&(Object(o.c)(a.data.token),c({type:r.b,payload:a.data})),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),500===t.t0.response.status&&i.a.error({message:"".concat(t.t0.response.data.message)}),console.log(t.t0.response);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(a.a)(Object(n.a)().mark((function t(c){var a;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.a.get("/auth/my-profile",{headers:{Authorization:"Basic ".concat(e)}});case 3:a=t.sent,c({type:r.a,payload:a.data.user}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},u=function(){return(new l.QueryCache).clear(),Object(o.a)(),{type:r.c}}},121:function(e,t,c){"use strict";t.a=c.p+"static/media/smartoee.cf7a2315.png"},323:function(e,t,c){},324:function(e,t,c){},325:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c(28),r=c.n(a),s=c(37),i=c(39),l=c(89),o=c(2),j=c(54),d={isSignedIn:!1,userId:"",fullName:"",email:"",role:""},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j.d:return Object(o.a)({},e);case j.b:var c=t.payload,n=c.fullName,a=c.email,r=c.role,s=c._id;return Object(o.a)(Object(o.a)({},e),{},{isSignedIn:!0,fullName:n,email:a,role:r,userId:s});case j.a:return Object(o.a)(Object(o.a)({},e),{},{isSignedIn:!0,fullName:t.payload.fullName,email:t.payload.email,role:t.payload.role,userId:t.payload.userId});case j.c:default:return Object(o.a)({},e)}},u=Object(l.b)({auth:b}),h=c(213),O=c(93),x=c(10),m=c(4),f=c(335),p=c(337),g=c(339),v=c(11),y=c(20),N=c(171),w=c(121),C=c(112),k=c(3),S=function(e){var t=e.color;return Object(k.jsxs)("svg",{height:"20",width:"20",viewBox:"0 0 64 64",enableBackground:"new 0 0 64 64",fill:"none",children:[Object(k.jsx)("path",{d:"M52.4501991,28.7678509l-5-4.9990005c-0.3768997-0.3770008-0.9902-0.3770008-1.3671989,0\nc-0.3778992,0.3778992-0.3778992,0.9902,0,1.3671989l3.3171997,3.3164005H35.2666016v2h14.1320992l-3.3157005,3.3163986\nc-0.3778992,0.377903-0.3778992,0.9902,0,1.3672028c0.1884995,0.1884995,0.4365997,0.2831993,0.6835976,0.2831993\nc0.2471008,0,0.4951019-0.0946999,0.6836014-0.2831993l5-5.0010014c0.1817017-0.1816006,0.2831993-0.4277,0.2831993-0.6835995\nC52.7333984,29.1946507,52.6319008,28.9495506,52.4501991,28.7678509z",fill:t},"104"),Object(k.jsx)("path",{d:"M40.2666016,39.4524498c-0.5527,0-1,0.4473-1,1v10.7900009c0,1.0429993-0.8310013,2.2099991-1.9433022,2.2099991\nh-6.0566998V11.2394505V9.8677502L30.0191994,9.33395L14.0765009,2.56445l-0.2606955-0.112h23.507494\nc1.2168007,0,1.9433022,0.9921999,1.9433022,1.9511998v15.0487995c0,0.5527,0.4473,1,1,1c0.5527992,0,1-0.4473,1-1V4.4036498\nc0-2.1786997-1.7685013-3.9511998-3.9433022-3.9511998H12.2666006c-0.5215998,0-0.9358997,0.4029-0.9822998,0.9124\nL11.2666006,1.35725V1.45245V55.03405l17.1855011,7.3064003l2.8144989,1.2070999v-3.0951004v-5h6.0566998\nc2.3584023,0,3.9433022-2.1767998,3.9433022-4.2099991V40.4524498\nC41.2666016,39.8997498,40.8194008,39.4524498,40.2666016,39.4524498z M29.2665997,11.2394505v49.2129974l-15.999999-6.7766991\nV4.4524498l15.9906988,6.7728004l0.0093002,0.0038996V11.2394505z",fill:t},"105")]})},I=function(e){var t=e.color;return Object(k.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:[Object(k.jsx)("path",{d:"M3 4C3 3.44772 3.44772 3 4 3H16C16.5523 3 17 3.44772 17 4V6C17 6.55228 16.5523 7 16 7H4C3.44772 7 3 6.55228 3 6V4Z",fill:t},"100"),Object(k.jsx)("path",{d:"M3 10C3 9.44771 3.44772 9 4 9H10C10.5523 9 11 9.44771 11 10V16C11 16.5523 10.5523 17 10 17H4C3.44772 17 3 16.5523 3 16V10Z",fill:t},"101"),Object(k.jsx)("path",{d:"M14 9C13.4477 9 13 9.44771 13 10V16C13 16.5523 13.4477 17 14 17H16C16.5523 17 17 16.5523 17 16V10C17 9.44771 16.5523 9 16 9H14Z",fill:t},"102")]},"0")},T=function(e){var t=e.color;return Object(k.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(k.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 10C18 14.4183 14.4183 18 10 18C5.58172 18 2 14.4183 2 10C2 5.58172 5.58172 2 10 2C14.4183 2 18 5.58172 18 10ZM12 7C12 8.10457 11.1046 9 10 9C8.89543 9 8 8.10457 8 7C8 5.89543 8.89543 5 10 5C11.1046 5 12 5.89543 12 7ZM9.99993 11C7.98239 11 6.24394 12.195 5.45374 13.9157C6.55403 15.192 8.18265 16 9.99998 16C11.8173 16 13.4459 15.1921 14.5462 13.9158C13.756 12.195 12.0175 11 9.99993 11Z",fill:t},"200")},"20")},P=function(){return Object(k.jsx)("svg",{width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",children:Object(k.jsx)("path",{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"})},0)},z=c(340),V=c(330),M=c(341),_=c(164),H=c(342),E=function(e){var t=e.color,c=Object(i.b)(),n=Object(x.k)().pathname,a=Object(i.c)((function(e){return e.auth})),r=Object(x.n)(),l=n.replace("/","");return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("div",{className:"brand",children:[Object(k.jsx)("img",{src:w.a,alt:""}),Object(k.jsx)("span",{children:" Smart IoT Management System"})]}),Object(k.jsx)("hr",{}),Object(k.jsxs)(N.a,{theme:"light",mode:"inline",children:[Object(k.jsx)(N.a.Item,{children:Object(k.jsxs)(s.c,{to:"/",end:!0,children:[Object(k.jsx)("span",{className:"icon",style:{background:"dashboard"===l?t:""},children:Object(k.jsx)(I,{color:t})}),Object(k.jsx)("span",{className:"label",children:"Dashboard"})]})},"1"),Object(k.jsx)(N.a.Item,{children:Object(k.jsxs)(s.c,{to:"/macaddress",children:[Object(k.jsx)("span",{className:"icon",style:{background:"macaddress"===l?t:""},children:Object(k.jsx)(z.a,{})}),Object(k.jsx)("span",{className:"label",children:"MacAddress"})]})},"8"),Object(k.jsx)(N.a.Item,{children:Object(k.jsxs)(s.c,{to:"/files",children:[Object(k.jsx)("span",{className:"icon",style:{background:"files"===l?t:""},children:Object(k.jsx)(V.a,{})}),Object(k.jsx)("span",{className:"label",children:"Files"})]})},"9"),Object(k.jsx)(N.a.Item,{children:Object(k.jsxs)(s.c,{to:"/scripts",children:[Object(k.jsx)("span",{className:"icon",style:{background:"scripts"===l?t:""},children:Object(k.jsx)(M.a,{})}),Object(k.jsx)("span",{className:"label",children:"Scripts"})]})},"12"),Object(k.jsx)(N.a.Item,{children:Object(k.jsxs)(s.c,{to:"/device-info",children:[Object(k.jsx)("span",{className:"icon",style:{background:"device-info"===l?t:""},children:Object(k.jsx)(_.a,{})}),Object(k.jsx)("span",{className:"label",children:"Device Info"})]})},"15"),Object(k.jsx)(N.a.Item,{className:"menu-item-header",children:"Account"},"19"),(null===a||void 0===a?void 0:a.role)&&"admin"===(null===a||void 0===a?void 0:a.role)&&Object(k.jsx)(N.a.Item,{children:Object(k.jsxs)(s.c,{to:"/users",children:[Object(k.jsx)("span",{className:"icon",style:{background:"users"===l?t:""},children:Object(k.jsx)(H.a,{})}),Object(k.jsx)("span",{className:"label",children:"Users"})]})},"13"),Object(k.jsx)(N.a.Item,{children:Object(k.jsxs)(s.c,{to:"/profile",children:[Object(k.jsx)("span",{className:"icon",style:{background:"profile"===l?t:""},children:Object(k.jsx)(T,{color:t})}),Object(k.jsx)("span",{className:"label",children:"Profile"})]})},"10"),Object(k.jsx)(N.a.Item,{children:Object(k.jsxs)("div",{style:{marginLeft:16,marginTop:5},onClick:Object(y.a)(Object(v.a)().mark((function e(){return Object(v.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(Object(C.c)());case 2:r("/sign-in");case 3:case"end":return e.stop()}}),e)}))),children:[Object(k.jsx)("span",{className:"icon",children:Object(k.jsx)(S,{color:t})}),Object(k.jsx)("span",{className:"label",children:"Logout"})]})},"11")]})]})},L=c(333),B=c(334),F=c(338),U=c(106);var Z=function(e){var t=e.name,c=e.subName,a=e.onPress;Object(n.useEffect)((function(){return window.scrollTo(0,0)}));var r=Object(i.c)((function(e){return e.auth}));return Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)(L.a,{gutter:[24,0],children:[Object(k.jsxs)(B.a,{span:24,md:6,children:[Object(k.jsxs)(F.a,{children:[Object(k.jsx)(F.a.Item,{children:Object(k.jsx)(s.c,{to:"/",children:"Pages"})}),Object(k.jsx)(F.a.Item,{style:{textTransform:"capitalize"},children:t.replace("/","")})]}),Object(k.jsx)("div",{className:"ant-page-header-heading",children:Object(k.jsx)("span",{className:"ant-page-header-heading-title",style:{textTransform:"capitalize"},children:c.replace("/","")})})]}),Object(k.jsxs)(B.a,{span:24,md:18,className:"header-control",children:[Object(k.jsx)(U.a,{type:"link",className:"sidebar-toggler",onClick:function(){return a()},children:Object(k.jsx)(P,{})}),Object(k.jsxs)(s.b,{to:"/profile",className:"btn-sign-in",children:[Object(k.jsx)(T,{color:"#111827"}),Object(k.jsx)("span",{children:r.fullName})]})]})]})})};var A=function(){var e=f.a.Footer;return Object(k.jsx)(e,{style:{background:"#fafafa"},children:Object(k.jsx)(L.a,{className:"just",children:Object(k.jsx)(B.a,{xs:24,md:12,lg:12,children:Object(k.jsxs)("div",{className:"copyright",children:["\xa9 2022 -",Object(k.jsx)("a",{href:"#pablo",className:"font-weight-bold",target:"_blank",children:"Smart IoT Management System"})]})})})})},D=f.a.Header,R=f.a.Content,J=f.a.Sider;var G,Q,W,X=function(e){var t=e.children,c=Object(n.useState)(!1),a=Object(m.a)(c,2),r=a[0],s=a[1],i=Object(n.useState)("right"),l=Object(m.a)(i,2),o=l[0],j=l[1],d=Object(n.useState)("#1890ff"),b=Object(m.a)(d,2),u=b[0],h=b[1],O=Object(n.useState)("transparent"),v=Object(m.a)(O,2),y=v[0],N=v[1],w=Object(n.useState)(!1),C=Object(m.a)(w,2),S=C[0],I=C[1],T=function(){return s(!r)},P=function(e){return N(e)},z=function(e){return h(e)},V=function(e){return I(e)},M=Object(x.k)().pathname;return M=M.replace("/",""),Object(n.useEffect)((function(){j("rtl"===M?"left":"right")}),[M]),Object(k.jsxs)(f.a,{className:"layout-dashboard ".concat("profile"===M?"layout-profile":""," ").concat("rtl"===M?"layout-dashboard-rtl":""),children:[Object(k.jsx)(p.a,{title:!1,placement:"right"===o?"left":"right",closable:!1,onClose:function(){return s(!1)},open:r,width:250,className:"drawer-sidebar ".concat("rtl"===M?"drawer-sidebar-rtl":""," "),children:Object(k.jsx)(f.a,{className:"layout-dashboard ".concat("rtl"===M?"layout-dashboard-rtl":""),children:Object(k.jsx)(J,{trigger:null,width:250,theme:"light",className:"sider-primary ant-layout-sider-primary ".concat("#fff"===y?"active-route":""),style:{background:y},children:Object(k.jsx)(E,{color:u})})})},"right"===o?"left":"right"),Object(k.jsx)(J,{breakpoint:"lg",collapsedWidth:"0",onCollapse:function(e,t){console.log(e,t)},trigger:null,width:250,theme:"light",className:"sider-primary ant-layout-sider-primary ".concat("#fff"===y?"active-route":""),style:{background:y},children:Object(k.jsx)(E,{color:u})}),Object(k.jsxs)(f.a,{children:[S?Object(k.jsx)(g.a,{children:Object(k.jsx)(D,{className:"".concat(S?"ant-header-fixed":""),children:Object(k.jsx)(Z,{onPress:T,name:M,subName:M,handleSidenavColor:z,handleSidenavType:P,handleFixedNavbar:V})})}):Object(k.jsx)(D,{className:"".concat(S?"ant-header-fixed":""),children:Object(k.jsx)(Z,{onPress:T,name:M,subName:M,handleSidenavColor:z,handleSidenavType:P,handleFixedNavbar:V})}),Object(k.jsxs)(R,{className:"content-ant",children:[t,Object(k.jsx)(x.b,{})]}),Object(k.jsx)(A,{})]})]})},q=c(141),K=c(142),Y=Object(K.b)(G||(G=Object(q.a)(["\n    from{\n        opacity: 0;\n        /* transform: scale(0.25); */\n    }\n    to{\n        opacity: 1;\n        /* transform: scale(1); */\n    }\n"]))),$=K.a.div(Q||(Q=Object(q.a)(["\n  height: 100vh;\n  width: 100vw;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),ee=K.a.img(W||(W=Object(q.a)(["\n  height: 50.223415682062296vh;\n  width: 30.965939329430547vw;\n  max-height: 250px;\n  max-width: 250px;\n  animation: "," 0.75s infinite;\n"])),Y),te=c(61),ce=function(){var e=Object(i.c)((function(e){return e.auth})),t=Object(i.b)(),c=Object(n.useCallback)((function(){var c=Object(te.b)();c&&!e.isSignedIn&&t(Object(C.a)(c))}),[e.isSignedIn,t]);return Object(n.useEffect)((function(){c()}),[c]),Object(k.jsxs)($,{children:[Object(k.jsx)(ee,{src:w.a,alt:""}),Object(k.jsx)("h2",{style:{fontWeight:"bold"},children:" Smart IoT Management System"})]})},ne=c(104),ae=c(336),re=(c(322),c(323),c(324),c(214)),se=Object(re.a)("https://smart-iot-management-system-backend.prod.dev-pci.com");function ie(e){var t=e.children,c=e.redirectTo,n=Object(te.b)();return n||ne.a.error({message:"Please login first"}),n?t:Object(k.jsx)(x.a,{to:c})}function le(e){var t=e.children,c=e.redirectTo;return Object(te.b)()?Object(k.jsx)(x.a,{to:c}):t}se.on("connect",(function(){console.log(se.id)}));var oe=function(){var e=Object(i.c)((function(e){return e.auth})),t=Object(n.lazy)((function(){return Promise.all([c.e(1),c.e(0),c.e(2),c.e(3),c.e(12)]).then(c.bind(null,396))})),a=Object(n.lazy)((function(){return Promise.all([c.e(0),c.e(11),c.e(15)]).then(c.bind(null,387))})),r=Object(n.lazy)((function(){return Promise.all([c.e(1),c.e(13)]).then(c.bind(null,395))})),s=Object(n.lazy)((function(){return Promise.all([c.e(1),c.e(0),c.e(2),c.e(3),c.e(10)]).then(c.bind(null,388))})),l=Object(n.lazy)((function(){return Promise.all([c.e(1),c.e(0),c.e(2),c.e(3),c.e(9)]).then(c.bind(null,393))})),o=Object(n.lazy)((function(){return Promise.all([c.e(1),c.e(0),c.e(2),c.e(3),c.e(8)]).then(c.bind(null,389))})),j=Object(n.lazy)((function(){return Promise.all([c.e(1),c.e(0),c.e(2),c.e(14)]).then(c.bind(null,390))})),d=Object(n.lazy)((function(){return Promise.all([c.e(1),c.e(0),c.e(2),c.e(3),c.e(7)]).then(c.bind(null,391))}));return Object(k.jsx)(n.Suspense,{fallback:Object(k.jsx)(ce,{}),children:Object(k.jsx)("div",{className:"App",children:Object(k.jsx)(ae.a,{exitBeforeEnter:!0,children:Object(k.jsxs)(x.e,{children:[Object(k.jsx)(x.c,{path:"/sign-in",element:Object(k.jsx)(le,{redirectTo:"/",children:Object(k.jsx)(a,{})})}),Object(k.jsxs)(x.c,{path:"/",element:Object(k.jsx)(ie,{redirectTo:"/sign-in",children:Object(k.jsx)(X,{})}),children:[Object(k.jsx)(x.c,{index:!0,element:Object(k.jsx)(ie,{redirectTo:"/sign-in",children:Object(k.jsx)(t,{socket:se})})}),(null===e||void 0===e?void 0:e.role)&&"admin"===(null===e||void 0===e?void 0:e.role)&&Object(k.jsx)(x.c,{path:"/users",element:Object(k.jsx)(ie,{redirectTo:"/users",children:Object(k.jsx)(d,{})})}),Object(k.jsx)(x.c,{path:"/macaddress",element:Object(k.jsx)(ie,{redirectTo:"/sign-in",children:Object(k.jsx)(s,{})})}),Object(k.jsx)(x.c,{path:"/files",element:Object(k.jsx)(ie,{redirectTo:"/sign-in",children:Object(k.jsx)(l,{})})}),Object(k.jsx)(x.c,{path:"/scripts",element:Object(k.jsx)(ie,{redirectTo:"/sign-in",children:Object(k.jsx)(o,{})})}),Object(k.jsx)(x.c,{path:"/device-info",element:Object(k.jsx)(ie,{redirectTo:"/sign-in",children:Object(k.jsx)(j,{socket:se})})}),Object(k.jsx)(x.c,{path:"/profile",element:Object(k.jsx)(ie,{redirectTo:"/sign-in",children:Object(k.jsx)(r,{})})}),Object(k.jsx)(x.c,{path:"*",element:Object(k.jsx)(x.a,{to:"/",replace:!0})})]})]})})})})},je=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.c,de=Object(l.d)(u,je(Object(l.a)(h.a))),be=new O.QueryClient;r.a.render(Object(k.jsx)(i.a,{store:de,children:Object(k.jsx)(s.a,{children:Object(k.jsx)(O.QueryClientProvider,{client:be,children:Object(k.jsx)(oe,{})})})}),document.getElementById("root"))},54:function(e,t,c){"use strict";c.d(t,"b",(function(){return n})),c.d(t,"d",(function(){return a})),c.d(t,"c",(function(){return r})),c.d(t,"a",(function(){return s}));var n="SIGN_IN",a="SIGN_UP",r="SIGN_OUT",s="LOAD_PROFILE"},61:function(e,t,c){"use strict";c.d(t,"b",(function(){return n})),c.d(t,"c",(function(){return a})),c.d(t,"a",(function(){return r}));var n=function(){try{var e=localStorage.getItem("token");if(null===e)return;return JSON.parse(e)}catch(t){return}},a=function(e){try{var t=JSON.stringify(e);localStorage.setItem("token",t)}catch(c){}},r=function(){try{localStorage.removeItem("token")}catch(e){}}}},[[325,5,6]]]);
//# sourceMappingURL=main.737c2640.chunk.js.map