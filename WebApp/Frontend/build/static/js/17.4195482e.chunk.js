(this["webpackJsonpsmart-iot-management-system"]=this["webpackJsonpsmart-iot-management-system"]||[]).push([[17],{351:function(e,t,n){"use strict";n.d(t,"w",(function(){return i})),n.d(t,"r",(function(){return s})),n.d(t,"q",(function(){return l})),n.d(t,"j",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"p",(function(){return b})),n.d(t,"u",(function(){return f})),n.d(t,"f",(function(){return m})),n.d(t,"m",(function(){return p})),n.d(t,"y",(function(){return j})),n.d(t,"v",(function(){return h})),n.d(t,"n",(function(){return O})),n.d(t,"s",(function(){return v})),n.d(t,"x",(function(){return y})),n.d(t,"o",(function(){return x})),n.d(t,"g",(function(){return g})),n.d(t,"t",(function(){return E})),n.d(t,"d",(function(){return N})),n.d(t,"b",(function(){return w})),n.d(t,"h",(function(){return C})),n.d(t,"k",(function(){return S})),n.d(t,"e",(function(){return z})),n.d(t,"c",(function(){return P})),n.d(t,"i",(function(){return k})),n.d(t,"l",(function(){return A}));var r=n(12),a=n(21),c=n(110),o=n(62),i=function(e){return c.a.patch("/auth/update-user",e,{headers:{Authorization:"Bearer ".concat(Object(o.b)())}})},s=function(){return c.a.get("/admin/count",{headers:{Authorization:"Bearer ".concat(Object(o.b)())}})},l=function(){return c.a.get("/admin/all-users",{headers:{Authorization:"Bearer ".concat(Object(o.b)())}})},u=function(e){return c.a.patch("/admin/delete-user",{id:e},{headers:{Authorization:"Bearer ".concat(Object(o.b)())}})},d=function(e){return c.a.patch("/macAddress/add",{macAddress:e},{headers:{Authorization:"Bearer ".concat(Object(o.b)())}})},b=function(){return c.a.get("/macAddress/all",{headers:{Authorization:"Bearer ".concat(Object(o.b)())}})},f=function(e,t){return c.a.patch("/macAddress/remove",{macAddress:e,userId:t},{headers:{Authorization:"Bearer ".concat(Object(o.b)())}})},m=function(){return c.a.get("/count/",{headers:{Authorization:"Bearer ".concat(Object(o.b)())}})},p=function(e){return c.a.post("/auth/forgot",{email:e})},j=function(e,t){return c.a.post("/auth/verify",{email:e,code:t})},h=function(e,t){return c.a.post("/auth/reset",{email:e,password:t})},O=function(){return c.a.get("/admin/all-macAddress",{headers:{Authorization:"Bearer ".concat(Object(o.b)())}})},v=function(e){return c.a.post("/mqtt/data",e)},y=function(e){return c.a.post("/mqtt/file/upload",e,{headers:{"x-access-token":Object(o.b)()}})},x=function(e){return c.a.post("/mqtt/files",e,{headers:{"x-access-token":Object(o.b)()}})},g=function(){var e=Object(a.a)(Object(r.a)().mark((function e(t){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.delete("/mqtt/file/delete/".concat(t),{headers:{Authorization:"Bearer ".concat(Object(o.b)())}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(e){return c.a.post("/mqtt/publish",e,{headers:{"x-access-token":Object(o.b)()}})},N=function(e){return c.a.post("/program/all",{macAddress:e},{headers:{Authorization:"Bearer ".concat(Object(o.b)())}})},w=function(e){return c.a.post("/program/post",e,{headers:{Authorization:"Bearer ".concat(Object(o.b)())}})},C=function(e){return c.a.patch("/program/delete",{id:e},{headers:{Authorization:"Bearer ".concat(Object(o.b)())}})},S=function(e,t){return c.a.patch("/program/edit",{id:t,programName:e.programName,command:e.command},{headers:{Authorization:"Bearer ".concat(Object(o.b)())}})},z=function(e){return c.a.post("/url/all",{macAddress:e},{headers:{Authorization:"Bearer ".concat(Object(o.b)())}})},P=function(e){return c.a.post("/url/post",e,{headers:{Authorization:"Bearer ".concat(Object(o.b)())}})},k=function(e){return c.a.patch("/url/delete",{id:e},{headers:{Authorization:"Bearer ".concat(Object(o.b)())}})},A=function(e,t){return c.a.patch("/url/edit",{id:t,url:e.url},{headers:{Authorization:"Bearer ".concat(Object(o.b)())}})}},352:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(5),a=n(1);function c(){var e=a.useReducer((function(e){return e+1}),0);return Object(r.a)(e,2)[1]}},353:function(e,t,n){"use strict";var r=n(1),a=n(352),c=n(95);t.a=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=Object(r.useRef)({}),n=Object(a.a)();return Object(r.useEffect)((function(){var r=c.a.subscribe((function(r){t.current=r,e&&n()}));return function(){return c.a.unsubscribe(r)}}),[]),t.current}},355:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e?"function"===typeof e?e():e:null}},363:function(e,t,n){"use strict";var r=n(2),a=n(1),c=n(56),o=n(156),i=n(355),s=n(70),l=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},u=a.forwardRef((function(e,t){var n=e.prefixCls,u=e.title,d=e.content,b=e._overlay,f=l(e,["prefixCls","title","content","_overlay"]),m=a.useContext(c.b).getPrefixCls,p=m("popover",n),j=m();return a.createElement(o.a,Object(r.a)({},f,{prefixCls:p,ref:t,overlay:b||function(e){if(u||d)return a.createElement(a.Fragment,null,u&&a.createElement("div",{className:"".concat(e,"-title")},Object(i.a)(u)),a.createElement("div",{className:"".concat(e,"-inner-content")},Object(i.a)(d)))}(p),transitionName:Object(s.c)(j,"zoom-big",f.transitionName)}))}));u.defaultProps={placement:"top",trigger:"hover",mouseEnterDelay:.1,mouseLeaveDelay:.1,overlayStyle:{}},t.a=u},380:function(e,t,n){"use strict";var r=n(3),a=n(1),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},o=n(20),i=function(e,t){return a.createElement(o.a,Object(r.a)(Object(r.a)({},e),{},{ref:t,icon:c}))};i.displayName="EditOutlined";t.a=a.forwardRef(i)},391:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n(6),a=n(5),c=n(17),o=n(7),i=n.n(o),s=n(52),l=n(1),u=n(56),d=n(27),b=n(95),f=function(e){return e.children},m=n(2);function p(e){return void 0!==e&&null!==e}var j=function(e){var t,n=e.itemPrefixCls,a=e.component,c=e.span,o=e.className,s=e.style,u=e.labelStyle,d=e.contentStyle,b=e.bordered,f=e.label,m=e.content,j=e.colon,h=a;return b?l.createElement(h,{className:i()((t={},Object(r.a)(t,"".concat(n,"-item-label"),p(f)),Object(r.a)(t,"".concat(n,"-item-content"),p(m)),t),o),style:s,colSpan:c},p(f)&&l.createElement("span",{style:u},f),p(m)&&l.createElement("span",{style:d},m)):l.createElement(h,{className:i()("".concat(n,"-item"),o),style:s,colSpan:c},l.createElement("div",{className:"".concat(n,"-item-container")},(f||0===f)&&l.createElement("span",{className:i()("".concat(n,"-item-label"),Object(r.a)({},"".concat(n,"-item-no-colon"),!j)),style:u},f),(m||0===m)&&l.createElement("span",{className:i()("".concat(n,"-item-content")),style:d},m)))};function h(e,t,n){var r=t.colon,a=t.prefixCls,c=t.bordered,o=n.component,i=n.type,s=n.showLabel,u=n.showContent,d=n.labelStyle,b=n.contentStyle;return e.map((function(e,t){var n=e.props,f=n.label,p=n.children,h=n.prefixCls,O=void 0===h?a:h,v=n.className,y=n.style,x=n.labelStyle,g=n.contentStyle,E=n.span,N=void 0===E?1:E,w=e.key;return"string"===typeof o?l.createElement(j,{key:"".concat(i,"-").concat(w||t),className:v,style:y,labelStyle:Object(m.a)(Object(m.a)({},d),x),contentStyle:Object(m.a)(Object(m.a)({},b),g),span:N,colon:r,component:o,itemPrefixCls:O,bordered:c,label:s?f:null,content:u?p:null}):[l.createElement(j,{key:"label-".concat(w||t),className:v,style:Object(m.a)(Object(m.a)(Object(m.a)({},d),y),x),span:1,colon:r,component:o[0],itemPrefixCls:O,bordered:c,label:f}),l.createElement(j,{key:"content-".concat(w||t),className:v,style:Object(m.a)(Object(m.a)(Object(m.a)({},b),y),g),span:2*N-1,component:o[1],itemPrefixCls:O,bordered:c,content:p})]}))}var O=function(e){var t=l.useContext(v),n=e.prefixCls,r=e.vertical,a=e.row,c=e.index,o=e.bordered;return r?l.createElement(l.Fragment,null,l.createElement("tr",{key:"label-".concat(c),className:"".concat(n,"-row")},h(a,e,Object(m.a)({component:"th",type:"label",showLabel:!0},t))),l.createElement("tr",{key:"content-".concat(c),className:"".concat(n,"-row")},h(a,e,Object(m.a)({component:"td",type:"content",showContent:!0},t)))):l.createElement("tr",{key:c,className:"".concat(n,"-row")},h(a,e,Object(m.a)({component:o?["th","td"]:"td",type:"item",showLabel:!0,showContent:!0},t)))},v=l.createContext({}),y={xxl:3,xl:3,lg:3,md:3,sm:2,xs:1};function x(e,t,n){var r=e;return(void 0===t||t>n)&&(r=Object(d.a)(e,{span:n})),r}function g(e){var t,n=e.prefixCls,o=e.title,d=e.extra,f=e.column,m=void 0===f?y:f,p=e.colon,j=void 0===p||p,h=e.bordered,g=e.layout,E=e.children,N=e.className,w=e.style,C=e.size,S=e.labelStyle,z=e.contentStyle,P=l.useContext(u.b),k=P.getPrefixCls,A=P.direction,B=k("descriptions",n),I=l.useState({}),q=Object(a.a)(I,2),R=q[0],L=q[1],F=function(e,t){if("number"===typeof e)return e;if("object"===Object(c.a)(e))for(var n=0;n<b.b.length;n++){var r=b.b[n];if(t[r]&&void 0!==e[r])return e[r]||y[r]}return 3}(m,R);l.useEffect((function(){var e=b.a.subscribe((function(e){"object"===Object(c.a)(m)&&L(e)}));return function(){b.a.unsubscribe(e)}}),[]);var T=function(e,t){var n=Object(s.a)(e).filter((function(e){return e})),r=[],a=[],c=t;return n.forEach((function(e,o){var i,s=null===(i=e.props)||void 0===i?void 0:i.span,l=s||1;if(o===n.length-1)return a.push(x(e,s,c)),void r.push(a);l<c?(c-=l,a.push(e)):(a.push(x(e,l,c)),r.push(a),c=t,a=[])})),r}(E,F),V=l.useMemo((function(){return{labelStyle:S,contentStyle:z}}),[S,z]);return l.createElement(v.Provider,{value:V},l.createElement("div",{className:i()(B,(t={},Object(r.a)(t,"".concat(B,"-").concat(C),C&&"default"!==C),Object(r.a)(t,"".concat(B,"-bordered"),!!h),Object(r.a)(t,"".concat(B,"-rtl"),"rtl"===A),t),N),style:w},(o||d)&&l.createElement("div",{className:"".concat(B,"-header")},o&&l.createElement("div",{className:"".concat(B,"-title")},o),d&&l.createElement("div",{className:"".concat(B,"-extra")},d)),l.createElement("div",{className:"".concat(B,"-view")},l.createElement("table",null,l.createElement("tbody",null,T.map((function(e,t){return l.createElement(O,{key:t,index:t,colon:j,prefixCls:B,vertical:"vertical"===g,bordered:h,row:e})})))))))}g.Item=f;t.b=g},404:function(e,t,n){"use strict";n.r(t);var r=n(12),a=n(21),c=n(5),o=n(1),i=n(218),s=n(402),l=n(335),u=n(336),d=n(2),b=n(6),f=n(17),m=n(7),p=n.n(m),j=n(69),h=n(39),O=n(56),v=n(353),y=n(95),x=o.createContext("default"),g=function(e){var t=e.children,n=e.size;return o.createElement(x.Consumer,null,(function(e){return o.createElement(x.Provider,{value:n||e},t)}))},E=x,N=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},w=function(e,t){var n,r,a=o.useContext(E),i=o.useState(1),s=Object(c.a)(i,2),l=s[0],u=s[1],m=o.useState(!1),x=Object(c.a)(m,2),g=x[0],w=x[1],C=o.useState(!0),S=Object(c.a)(C,2),z=S[0],P=S[1],k=o.useRef(),A=o.useRef(),B=Object(h.a)(t,k),I=o.useContext(O.b).getPrefixCls,q=function(){if(A.current&&k.current){var t=A.current.offsetWidth,n=k.current.offsetWidth;if(0!==t&&0!==n){var r=e.gap,a=void 0===r?4:r;2*a<n&&u(n-2*a<t?(n-2*a)/t:1)}}};o.useEffect((function(){w(!0)}),[]),o.useEffect((function(){P(!0),u(1)}),[e.src]),o.useEffect((function(){q()}),[e.gap]);var R,L=e.prefixCls,F=e.shape,T=e.size,V=e.src,H=e.srcSet,M=e.icon,W=e.className,D=e.alt,G=e.draggable,J=e.children,_=e.crossOrigin,U=N(e,["prefixCls","shape","size","src","srcSet","icon","className","alt","draggable","children","crossOrigin"]),X="default"===T?a:T,K=Object.keys("object"===Object(f.a)(X)&&X||{}).some((function(e){return["xs","sm","md","lg","xl","xxl"].includes(e)})),Q=Object(v.a)(K),Y=o.useMemo((function(){if("object"!==Object(f.a)(X))return{};var e=y.b.find((function(e){return Q[e]})),t=X[e];return t?{width:t,height:t,lineHeight:"".concat(t,"px"),fontSize:M?t/2:18}:{}}),[Q,X]),Z=I("avatar",L),$=p()((n={},Object(b.a)(n,"".concat(Z,"-lg"),"large"===X),Object(b.a)(n,"".concat(Z,"-sm"),"small"===X),n)),ee=o.isValidElement(V),te=p()(Z,$,(r={},Object(b.a)(r,"".concat(Z,"-").concat(F),!!F),Object(b.a)(r,"".concat(Z,"-image"),ee||V&&z),Object(b.a)(r,"".concat(Z,"-icon"),!!M),r),W),ne="number"===typeof X?{width:X,height:X,lineHeight:"".concat(X,"px"),fontSize:M?X/2:18}:{};if("string"===typeof V&&z)R=o.createElement("img",{src:V,draggable:G,srcSet:H,onError:function(){var t=e.onError;!1!==(t?t():void 0)&&P(!1)},alt:D,crossOrigin:_});else if(ee)R=V;else if(M)R=M;else if(g||1!==l){var re="scale(".concat(l,") translateX(-50%)"),ae={msTransform:re,WebkitTransform:re,transform:re},ce="number"===typeof X?{lineHeight:"".concat(X,"px")}:{};R=o.createElement(j.a,{onResize:q},o.createElement("span",{className:"".concat(Z,"-string"),ref:function(e){A.current=e},style:Object(d.a)(Object(d.a)({},ce),ae)},J))}else R=o.createElement("span",{className:"".concat(Z,"-string"),style:{opacity:0},ref:function(e){A.current=e}},J);return delete U.onError,delete U.gap,o.createElement("span",Object(d.a)({},U,{style:Object(d.a)(Object(d.a)(Object(d.a)({},ne),Y),U.style),className:te,ref:B}),R)},C=o.forwardRef(w);C.defaultProps={shape:"circle",size:"default"};var S=C,z=n(52),P=n(363),k=n(27),A=function(e){var t=o.useContext(O.b),n=t.getPrefixCls,r=t.direction,a=e.prefixCls,c=e.className,i=void 0===c?"":c,s=e.maxCount,l=e.maxStyle,u=e.size,d=n("avatar-group",a),f=p()(d,Object(b.a)({},"".concat(d,"-rtl"),"rtl"===r),i),m=e.children,j=e.maxPopoverPlacement,h=void 0===j?"top":j,v=e.maxPopoverTrigger,y=void 0===v?"hover":v,x=Object(z.a)(m).map((function(e,t){return Object(k.a)(e,{key:"avatar-key-".concat(t)})})),E=x.length;if(s&&s<E){var N=x.slice(0,s),w=x.slice(s,E);return N.push(o.createElement(P.a,{key:"avatar-popover-key",content:w,trigger:y,placement:h,overlayClassName:"".concat(d,"-popover")},o.createElement(S,{style:l},"+".concat(E-s)))),o.createElement(g,{size:u},o.createElement("div",{className:f,style:e.style},N))}return o.createElement(g,{size:u},o.createElement("div",{className:f,style:e.style},x))},B=S;B.Group=A;var I=B,q=n(108),R=n(391),L=n(403),F=n(377),T=n(372),V=n(380),H=n.p+"static/media/bg-profile.9c36abe7.jpg",M=n.p+"static/media/user.402e33f3.png",W=n(351),D=n(62),G=n(40),J=n(115),_=n(4);t.default=function(){var e=Object(G.c)((function(e){return e.auth})),t=Object(o.useState)(!1),n=Object(c.a)(t,2),d=n[0],b=n[1],f=Object(o.useState)(!1),m=Object(c.a)(f,2),p=m[0],j=m[1],h=Object(o.useState)(!1),O=Object(c.a)(h,2),v=O[0],y=O[1],x=Object(G.b)(),g=Object(D.b)(),E=function(){var e=Object(a.a)(Object(r.a)().mark((function e(t){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.prev=1,e.next=4,Object(W.w)(t);case 4:200===e.sent.status&&(j(!1),b(!1),x(Object(J.a)(g)),i.b.success("Profile updated successfully!")),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(1),j(!1),b(!1),i.b.error("Something went wrong, please check your internet connection");case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("div",{className:"profile-nav-bg",style:{backgroundImage:"url("+H+")"}}),Object(_.jsx)(s.a,{className:"card-profile-head",bodyStyle:{display:"none"},title:Object(_.jsx)(l.a,{justify:"space-between",align:"middle",gutter:[24,0],children:Object(_.jsx)(u.a,{span:24,md:12,className:"col-info",children:Object(_.jsxs)(I.Group,{children:[Object(_.jsx)(I,{size:74,shape:"square",src:M}),Object(_.jsxs)("div",{className:"avatar-info",children:[Object(_.jsx)("h4",{className:"font-semibold m-0",children:e.fullName}),Object(_.jsx)("p",{children:e.email})]})]})})})}),Object(_.jsx)(l.a,{gutter:[24,0],style:{justifyContent:"center"},children:Object(_.jsx)(u.a,{span:24,md:8,className:"mb-24",children:Object(_.jsxs)(s.a,{bordered:!1,title:Object(_.jsx)("h6",{className:"font-semibold m-0",children:"Profile Information"}),className:"header-solid h-full card-profile-information",bodyStyle:{paddingTop:0,paddingBottom:0},extra:Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(q.a,{type:"primary",className:"tag-primary",icon:Object(_.jsx)(V.a,{}),onClick:function(){return b(!0)},children:"Edit"})}),children:[Object(_.jsx)("hr",{}),Object(_.jsxs)(R.b,{children:[Object(_.jsx)(R.b.Item,{label:"Full Name",span:3,children:e.fullName}),Object(_.jsx)(R.b.Item,{label:"Email",span:3,children:e.email}),Object(_.jsx)(R.b.Item,{label:"Role",span:3,children:e.role})]})]})})}),Object(_.jsx)(L.a,{title:"Edit Profile",destroyOnClose:!0,open:d,footer:null,onCancel:function(){return b(!1)},confirmLoading:p,children:Object(_.jsxs)(F.a,{name:"control-ref",onFinish:E,labelCol:{span:8},children:[Object(_.jsx)(F.a.Item,{name:"fullName",label:"Full Name",initialValue:e.fullName,rules:[{required:!0}],children:Object(_.jsx)(T.a,{placeholder:"Full Name"})}),Object(_.jsx)(F.a.Item,{name:"email",label:"Email",initialValue:e.email,rules:[{required:!0}],children:Object(_.jsx)(T.a,{placeholder:"Email"})}),Object(_.jsx)(F.a.Item,{name:"password",label:"New Password",initialValue:e.visiblePassword,rules:[{required:!0}],children:Object(_.jsx)(T.a.Password,{placeholder:"New Password",visibilityToggle:{visible:v,onVisibleChange:y},style:{borderRadius:"8px"}})}),Object(_.jsx)(F.a.Item,{children:Object(_.jsx)(q.a,{type:"primary",htmlType:"submit",loading:p,children:"Update"})})]})})]})}}}]);
//# sourceMappingURL=17.4195482e.chunk.js.map