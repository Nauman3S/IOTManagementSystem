(this["webpackJsonpsmart-iot-management-system"]=this["webpackJsonpsmart-iot-management-system"]||[]).push([[15],{343:function(e,t,r){"use strict";r.d(t,"m",(function(){return o})),r.d(t,"g",(function(){return i})),r.d(t,"a",(function(){return u})),r.d(t,"l",(function(){return d})),r.d(t,"p",(function(){return l})),r.d(t,"d",(function(){return b})),r.d(t,"i",(function(){return j})),r.d(t,"s",(function(){return m})),r.d(t,"q",(function(){return p})),r.d(t,"j",(function(){return h})),r.d(t,"n",(function(){return f})),r.d(t,"r",(function(){return O})),r.d(t,"k",(function(){return x})),r.d(t,"e",(function(){return g})),r.d(t,"o",(function(){return y})),r.d(t,"c",(function(){return w})),r.d(t,"b",(function(){return v})),r.d(t,"f",(function(){return P})),r.d(t,"h",(function(){return A}));var a=r(11),n=r(20),s=r(109),c=r(61),o=function(){return s.a.get("/admin/all-users",{headers:{Authorization:"Bearer ".concat(Object(c.b)())}})},i=function(e){return s.a.patch("/admin/delete-user",{id:e},{headers:{Authorization:"Bearer ".concat(Object(c.b)())}})},u=function(e){return s.a.patch("/macAddress/add",{macAddress:e},{headers:{Authorization:"Bearer ".concat(Object(c.b)())}})},d=function(){return s.a.get("/macAddress/all",{headers:{Authorization:"Bearer ".concat(Object(c.b)())}})},l=function(e,t){return s.a.patch("/macAddress/remove",{macAddress:e,userId:t},{headers:{Authorization:"Bearer ".concat(Object(c.b)())}})},b=function(){return s.a.get("/count/",{headers:{Authorization:"Bearer ".concat(Object(c.b)())}})},j=function(e){return s.a.post("/auth/forgot",{email:e})},m=function(e,t){return s.a.post("/auth/verify",{email:e,code:t})},p=function(e,t){return s.a.post("/auth/reset",{email:e,password:t})},h=function(){return s.a.get("/admin/all-macAddress",{headers:{Authorization:"Bearer ".concat(Object(c.b)())}})},f=function(e){return s.a.post("/mqtt/data",e)},O=function(e){return s.a.post("/mqtt/file/upload",e,{headers:{"x-access-token":Object(c.b)()}})},x=function(e){return s.a.post("/mqtt/files",e,{headers:{"x-access-token":Object(c.b)()}})},g=function(){var e=Object(n.a)(Object(a.a)().mark((function e(t){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.delete("/mqtt/file/delete/".concat(t),{headers:{Authorization:"Bearer ".concat(Object(c.b)())}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(e){return s.a.post("/mqtt/publish",e,{headers:{"x-access-token":Object(c.b)()}})},w=function(e){return s.a.post("/program/all",{macAddress:e},{headers:{Authorization:"Bearer ".concat(Object(c.b)())}})},v=function(e){return s.a.post("/program/post",e,{headers:{Authorization:"Bearer ".concat(Object(c.b)())}})},P=function(e){return s.a.patch("/program/delete",{id:e},{headers:{Authorization:"Bearer ".concat(Object(c.b)())}})},A=function(e,t){return s.a.patch("/program/edit",{id:t,programName:e.programName,command:e.command},{headers:{Authorization:"Bearer ".concat(Object(c.b)())}})}},387:function(e,t,r){"use strict";r.r(t);var a=r(11),n=r(20),s=r(4),c=r(0),o=r(10),i=r(369),u=r(335),d=r(104),l=r(333),b=r(334),j=r(364),m=r(382),p=r(106),h=r(359),f=r(121),O=r(39),x=r(112),g=r(343),y=r(3),w=i.a.Title,v=u.a.Header,P=u.a.Footer,A=u.a.Content;t.default=function(){var e=Object(O.b)(),t=Object(o.n)(),r=Object(c.useRef)(null),i=Object(c.useState)(!1),N=Object(s.a)(i,2),k=N[0],I=N[1],S=Object(c.useState)(!1),q=Object(s.a)(S,2),C=q[0],E=q[1],F=Object(c.useState)(!1),T=Object(s.a)(F,2),z=T[0],B=T[1],L=Object(c.useState)(!1),J=Object(s.a)(L,2),M=J[0],D=J[1],G=Object(c.useState)(!1),H=Object(s.a)(G,2),R=H[0],V=H[1],K=Object(c.useState)(!1),Q=Object(s.a)(K,2),U=Q[0],W=Q[1],X=Object(c.useState)(!1),Y=Object(s.a)(X,2),Z=Y[0],$=Y[1],_=function(){var s=Object(n.a)(Object(a.a)().mark((function n(s){var c;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return I(!0),r.current.blur(),a.next=4,e(Object(x.b)(s));case 4:c=a.sent,I(!1),c||t("/");case 7:case"end":return a.stop()}}),n)})));return function(e){return s.apply(this,arguments)}}();if(Object(c.useEffect)((function(){return $(!0),function(){return $(!1)}}),[]),!Z)return null;var ee=function(){var e=Object(n.a)(Object(a.a)().mark((function e(t){var r,n;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.password,E(!0),e.prev=2,e.next=5,Object(g.q)(U,r);case 5:200===(n=e.sent).status&&(d.a.success({message:"Success",description:n.data.message}),V(!1),E(!1)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),E(!1),d.a.error({message:"Error",description:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(n.a)(Object(a.a)().mark((function e(t){var r,n;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.email,W(r),E(!0),e.prev=3,e.next=6,Object(g.i)(r);case 6:200===(n=e.sent).status&&(d.a.success({message:"OTP Sent",description:n.data.message}),B(!1),D(!0),E(!1)),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(3),B(!1),E(!1),d.a.error({message:"Error",description:e.t0.response.data.message});case 15:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=Object(n.a)(Object(a.a)().mark((function e(t){var r,n;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.otp,E(!0),e.prev=2,e.next=5,Object(g.s)(U,r);case 5:200===(n=e.sent).status&&(d.a.success({message:"OTP Status",description:n.data.message}),D(!1),V(!0),E(!1)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),E(!1),d.a.error({message:"Error",description:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(u.a,{className:"layout-default layout-signin",children:[Object(y.jsx)(v,{children:Object(y.jsx)("div",{className:"header-col header-brand",children:Object(y.jsx)("h5",{children:" Smart IoT Management System"})})}),Object(y.jsx)(A,{className:"signin",children:Object(y.jsxs)(l.a,{gutter:[24,0],justify:"space-around",children:[Object(y.jsxs)(b.a,{xs:{span:24,offset:0},lg:{span:6,offset:2},md:{span:12},children:[Object(y.jsx)(w,{className:"mb-15",children:"Sign In"}),Object(y.jsx)(w,{className:"font-regular text-muted",level:5,children:"Enter your email and password to sign in"}),Object(y.jsxs)(j.a,{onFinish:_,onFinishFailed:function(e){console.log("Failed:",e)},layout:"vertical",className:"row-col",children:[Object(y.jsx)(j.a.Item,{className:"username",label:"Email",name:"email",rules:[{required:!0,message:"Please input your email!"}],children:Object(y.jsx)(m.a,{placeholder:"Email"})}),Object(y.jsx)(j.a.Item,{className:"username",label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],children:Object(y.jsx)(m.a.Password,{placeholder:"Password"})}),Object(y.jsx)(j.a.Item,{children:Object(y.jsx)(p.a,{type:"primary",htmlType:"submit",loading:k,ref:r,style:{width:"100%"},children:"SIGN IN"})}),Object(y.jsxs)("p",{className:"font-semibold text-muted",children:[Object(y.jsx)("br",{}),Object(y.jsx)("div",{onClick:function(){return B(!0)},className:"text-dark font-bold",style:{textDecoration:"underline",cursor:"pointer"},children:"Forgot Password?"})]})]})]}),Object(y.jsx)(b.a,{className:"sign-img",style:{padding:12},xs:{span:24},lg:{span:12},md:{span:12},children:Object(y.jsx)("img",{src:f.a,alt:""})})]})}),Object(y.jsx)(P,{children:Object(y.jsx)("p",{className:"copyright",children:"Copyright \xa9 2022 Smart IoT Management System"})})]}),Object(y.jsx)(h.a,{title:"Enter Email",destroyOnClose:!0,visible:z,footer:null,onCancel:function(){return B(!1)},confirmLoading:C,children:Object(y.jsxs)(j.a,{name:"control-ref",onFinish:te,style:{alignItems:"center"},labelCol:{span:4},children:[Object(y.jsx)(j.a.Item,{name:"email",label:"Email",rules:[{required:!0,message:"Please enter your email address associated with your account!"},{type:"email",message:"Please enter a valid email address"}],children:Object(y.jsx)(m.a,{})}),Object(y.jsx)("br",{}),Object(y.jsx)(j.a.Item,{children:Object(y.jsx)(p.a,{type:"primary",htmlType:"submit",loading:C,children:"Next"})})]})}),Object(y.jsx)(h.a,{title:"Enter OTP",destroyOnClose:!0,open:M,footer:null,onCancel:function(){return D(!1)},confirmLoading:C,children:Object(y.jsxs)(j.a,{name:"control-ref",onFinish:re,labelCol:{span:4},children:[Object(y.jsx)(j.a.Item,{name:"otp",label:"OTP",rules:[{required:!0,message:"Please enter OTP you  received!"}],children:Object(y.jsx)(m.a,{})}),Object(y.jsx)("br",{}),Object(y.jsx)(j.a.Item,{children:Object(y.jsx)(p.a,{type:"primary",htmlType:"submit",loading:C,children:"Next"})})]})}),Object(y.jsx)(h.a,{title:"Enter New Password",destroyOnClose:!0,open:R,footer:null,onCancel:function(){return V(!1)},confirmLoading:C,children:Object(y.jsxs)(j.a,{name:"control-ref",onFinish:ee,labelCol:{span:8},children:[Object(y.jsx)(j.a.Item,{name:"password",label:"Password",rules:[{required:!0,message:"Please input your password!"}],hasFeedback:!0,children:Object(y.jsx)(m.a.Password,{})}),Object(y.jsx)(j.a.Item,{name:"confirm",label:"Confirm Password",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password!"},function(e){var t=e.getFieldValue;return{validator:function(e,r){return r&&t("password")!==r?Promise.reject(new Error("The two passwords that you entered do not match!")):Promise.resolve()}}}],children:Object(y.jsx)(m.a.Password,{})}),Object(y.jsx)("br",{}),Object(y.jsx)(j.a.Item,{children:Object(y.jsx)(p.a,{type:"primary",htmlType:"submit",loading:C,children:"Submit"})})]})})]})}}}]);
//# sourceMappingURL=15.5d8cfe57.chunk.js.map